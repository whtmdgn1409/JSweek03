원문 : https://d2.naver.com/helloworld/2922312


1. CPU, GPU, 메모리 그리고 다중 프로세스 아키텍처

- CPU(중앙처리장치)
- GPU(그래픽처리장치)

* 특정 작업을 CPU가 아닌 다른 장치를 통해 수행 속도를 높이는 것을 하드웨어 가속(HardWare Accelerated)라고 한다.
* 그래픽이나 사운드와 관련된 작업에 하드웨어 가속을 많이 사용한다
* 브라우저에서 하드웨어 가속은 주로 GPU를 사용한 그래픽 작업의 가속을 의미한다.

2. 프로세스와 스레드로 프로그램 실행

- 애플리케이션을 시쟉하면 프로세스가 하나 만들어진다. 프로세스가 작업을 하기 위해 스레드를 생성할 수도 있지만,
선택 사항이다. 운영체제는 프로세스가 작업할 메모리를 "한 조각" 주는데, 이 전용 메모리 공간에 애플리케이션의 모든 상태가 저장된다.
애플리케이션을 닫으면 프로세스가 사라지고 운영체제가 메모리를 비운다

- 프로세스는 여러 작업을 수행하기 위해 운영체제에 다른 프로세스를 실행하라고 요청할 수 있다. 그러면 메모리의 다른 부분이 새 프로세스에 할당된다.
두 프로세스가 서로 정보를 공유해야 할 때는 IPC(Inter Process Communication, 프로세스 간 통신)를 사용한다.

브라우저 아키텍처

- Chrome의 최근 아키텍처 : 제일 위에 있는 브라우저  프로세스는 애플리케이션의 각 부분을 맡고 있는 다른 프로세스를 조정한다.
렌더러 프로세스는 여러 개가 만들어져 각 탭마다 할당된다. 최근까지 Chrome은 탭마다 프로세스를 할당했다. 이제는 사이트(iframe에 있는 사이트 포함)마다 프로세스를 할당한다.


어떤 프로세스가 무엇을 담당하나?

- 브라우저 프로세스 : 주소 표시줄, 북마크 막대, 이전/다음 버튼 등 애플리케이션의 chrome(브라우저의 UI영역) 부분을 제어한다
네트워크 요청이나 파일 접근과 같이 눈에 보이지는 않지만 권한이 필요한 부분도 처리한다.

- 렌더러 프로세스 : 탭 안에서 웹사이트가 표시되는 부분의 모든 것을 제어한다

- 플러그인 프로세스 : 웹사이트에서 사용하는 플러그인을 제어한다

- GPU 프로세스 : GPU 작업을 다른 프로세스와 격리해서 처리한다. GPU는 여러 애플리케이션의 요청을 처리하고
같은 화면에 요청받은 내용을 그리기 때문에 GPU 프로세스는 별도 프로세스로 분리되어 있다.


다중 프로세스 아키텍처가 Chrome에 주는 이점

- 한 탭이 응답하지 않더라도 다른 탭은 사용 가능하다.
- 보안과 격리(운영체제를 통해 프로세스의 권한을 제한할 수 있어 특정 프로세스가 특정 기능을 사용할 수 없게 제한)
- 메모리 사용량이 많긴하지만 빠른 사용자 경험과 보안을 제공한다.

성능이 좋은 하드웨어에서 Chrome이 실행 중일 때에는 각 서비스를 여러 프로세스로 분할해 안정성을 높이고,
리소스가 제한적인 장치에서 실행 중일 때에는 서비스를 하나의 프로세스에서 실행해서 메모리 사용량을 줄이자
--> Chrome의 서비스화


프레임별로 실행되는 렌더러 프로세스 - 사이트 격리

사이트 격리는 Chrome에서  최근 도입된 기능으로, iframe의 사이트를 별도의 렌더러 프로세스에서 실행하는 것이다.
탭마다 렌더러 프로세스를 할당하는 모델에서는 iframe의 사이트가 같은 렌더러 프로세스에서 작동하기 때문에 서로 다른 사이트 간에 메모리가
공유될 수 있다는 문제가 있어 지속적으로 논의가 있었다. a.con 사이트의 웹 페이지와 b.com 사이트의 웹 페이지를 동일한 렌더러 프로세스에서
실행하는 것이 문제가 없어 보일 수 있다. 하지만 동일 출처 정책(Same Origin Policy)은 웹 보안 모델의 핵심이다. 한 사이트는 동의 없이 다른 사이트의 데이터에
접근할 수 있으면 안된다. 이 정책을 우회하는 것이 바로 보안 공격의 주요 목표이다. 프로세스를 격리하는 것이 사이트를 격리하는 가장 효과적인 방법이다.
